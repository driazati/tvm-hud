[
  {
    "sha": "418513885e1a4fa18213e9dc7abd51edf7a68264",
    "headline": "[BYOC] Fix problems in MergeCompositeFunctions (#411)",
    "body": "* Fix problems in merge_composite_functions\r\n\r\n* Update doc\r\n\r\n* Unify private methods and update code",
    "author": "yelite",
    "date": "2023-02-08T02:57:15Z",
    "jobs": [],
    "updated_at": 1690532118.378956
  },
  {
    "sha": "48b7d5e647b74ffcbda128265a29c0779e877dca",
    "headline": "[Util] NestedMsg: MapNestedMsg (#410)",
    "body": "This PR brings a new util function (`MapNestedMsg`) for NestedMsg:\r\n\r\n* `MapNestedMsg` recurses into an input NestedMsg and maps the leaves\r\naccording to the provided mapping function.\r\n\r\nOne corresponding unit test is provided.",
    "author": "MasterJH5574",
    "date": "2023-02-07T23:58:58Z",
    "jobs": []
  },
  {
    "sha": "7a8423b84ac2b4f2d8640ae87f0c760711fb365e",
    "headline": "[BYOC] Update TensorRT backend for the new BYOC flow and offloading w\u2026",
    "body": "\u2026ith constants (#400)\n\n* Update TensorRT backend for the new BYOC flow and offloading with constant\n\n* update cutlass codegen for the new signature\n\n* add comment\n\n* fix pattern partitioning for residual block\n\n* update cutlass rev and enable disabled test",
    "author": "masahi",
    "date": "2023-02-07T21:41:43Z",
    "jobs": []
  },
  {
    "sha": "deabb9b42559bb404932ca32b1a957ff223bfe43",
    "headline": "[Op][Layout] Add layout_transform operator in Relax. (#403)",
    "body": "Adds layout_transform operator in Relax as part of Relax layout planning.\r\n\r\nlayout_transform takes an input tensor x and an attribute index_map of tir::IndexMap type. It also has an optional pad_value attribute. It transforms x as per the index_map attribute and returns the transformed tensor.\r\n\r\nThis operator for now allows layout transformations that introduce implicit padding. For example, transforming a tensor of shape (10,) using the lambda i: (i//4, i%4). The output shape will be (3, 4) with two elements padded. The optional pad_value is used to pad if specified, otherwise the compiler is free to choose any value to pad.",
    "author": "psrivas2",
    "date": "2023-02-07T18:51:23Z",
    "jobs": []
  },
  {
    "sha": "0c87483eb95ce9a0bdc2dff4a7e4d2bc1c99dd39",
    "headline": "[OP] Add Linear Op Interface at Python Side (#409)",
    "body": "As discussed before, we won't introduce a new Linear Op at IR level.\r\nHowever, this PR adds a user interface at the python side, which is composed of transpose, matmul and a bias add.",
    "author": "Hzfengsy",
    "date": "2023-02-07T18:23:31Z",
    "jobs": []
  },
  {
    "sha": "5c3ec46a7469159390cf2246d92da038ed5ec0bd",
    "headline": "[Op] Add `relax.clip` Op (#408)",
    "body": "",
    "author": "Hzfengsy",
    "date": "2023-02-07T17:55:41Z",
    "jobs": []
  },
  {
    "sha": "2f09775bd57747d88ca2736ec2e3abf69be03a46",
    "headline": "Replace CopyWithNewParams with CopyWithNewVars (#406)",
    "body": "This PR adds a CopyWithNewVars function to replace CopyWithNewParams. CopyWithNewVars will copy all variables defined in a function, rather than just copy function parameters like what CopyWithNewParams does.\r\n\r\nWhen the copy of a function needs to be added to the same IRModule of original function, it's important that the copy doesn't use the same variable as the original function does. Otherwise it's not possible to assert structural equal between the result and an IRModule created through TVMScript, which is a common pattern used in tests.",
    "author": "yelite",
    "date": "2023-02-06T19:20:55Z",
    "jobs": []
  },
  {
    "sha": "616c855abbd7c8787de0da1c369fcbbcd363e970",
    "headline": "[Fix][Arith] Analyzer simplification starts with canonical (#13875) (\u2026",
    "body": "\u2026#404)\n\nThis PR updates the order of arithmetic analyzer simplification, by\nadding a stage of canonical simplification at the very beginning so\nthat every simplification always starts with a canonical round. This\nis because the rewrite simplification may destroy some PrimExpr property\nthat the canonical simplification can make use of. Therefore, adding\nthe canonical one in the front can maximize the use of canonical\nsimplification.",
    "author": "MasterJH5574",
    "date": "2023-02-03T18:59:31Z",
    "jobs": []
  },
  {
    "sha": "945f89dea8e809f9380868f40445808012d90232",
    "headline": "Add back the missing optional header (#401)",
    "body": "",
    "author": "yelite",
    "date": "2023-02-03T00:17:44Z",
    "jobs": []
  },
  {
    "sha": "ff689ca56c2252ebbbf73669825303defc4f5f4d",
    "headline": "[BYOC] Add CUTLASS backend (#380)",
    "body": "* Add CUTLASS backend\n\n* fix\n\n* Wrap and annotate in FuseOpsByPattern optionally\n\n* fix\n\n* black\n\n* add test for FuseOpsByPattern change\n\n* black\n\n* ignore 3rd party in pylint\n\n* fix test\n\n* another unused var warning\n\n* Update include/tvm/relax/transform.h\n\nCo-authored-by: Wuwei Lin <vincentl13x@gmail.com>\n\n* fix for v3\n\n* fix for int8 test in relay byoc\n\n* more fix for cutlass update\n\n* fix residual block fusion offload\n\n* fix test\n\n---------\n\nCo-authored-by: Wuwei Lin <vincentl13x@gmail.com>",
    "author": "masahi",
    "date": "2023-02-02T21:20:45Z",
    "jobs": []
  },
  {
    "sha": "28c2d25683dd4f59a117f7defd53dcc4d9cde85e",
    "headline": "[BYOC] Fix MergeCompositeFunctions when some callees are not a compos\u2026",
    "body": "\u2026ite function (#385)",
    "author": "masahi",
    "date": "2023-02-02T21:05:42Z",
    "jobs": []
  },
  {
    "sha": "036ae9a543877a4ff69d00b54aaa3f1b3d1cb7e3",
    "headline": "Move PyVisitor/Mutator into cc file (#398)",
    "body": "",
    "author": "LeshengJin",
    "date": "2023-02-02T20:57:09Z",
    "jobs": []
  },
  {
    "sha": "8c6c3e94c8eaf4bf28e364a9c50a0249578765c4",
    "headline": "[Fix][Pass] TIR op pattern kind analysis with int var in signature (#\u2026",
    "body": "\u2026399)\n\nThis PR fixes a bug in TIR pattern kind analyzer.\r\n\r\nPreviously the analyzer requires the input TIR function signature\r\nnot to have any symbolic var other than Buffer var. This behavior\r\nwill throw exception whenever the input TIR function signature contains\r\ninteger var or other var, while the expected behavior is to ignore\r\nthese vars instead of throwing error. This PR fixes this issue.",
    "author": "MasterJH5574",
    "date": "2023-02-02T18:07:15Z",
    "jobs": []
  },
  {
    "sha": "fcc25b1a18daa6980b183bae6152da470c2584ca",
    "headline": "[Pass] Rewrite dataflow reshape (#393)",
    "body": "This PR introduces the dataflow reshape rewrite pass, which transform all\r\ndataflow TIR reshape bindings inside a Relax function into a call of\r\nruntime packed function `relax.vm.builtin.reshape`. Here \u201cdataflow TIR\r\nreshape bindings\u201d means\r\n1. the binding value is a `call_tir` of any PrimFunc that is essentially\r\ndoing a reshape operation,\r\n2. the binding var is a DataflowVar, or in other words, the binding is\r\ninside a DataflowBlock and the binding var is not a block output var.\r\n\r\nThe `relax.vm.builtin.reshape` packed function creates a view of the input\r\nNDArray with the target shape, instead of doing data copy.\r\n\r\nIn order to fulfill this pass, this PR contains the following parts.\r\n1. An analysis function that detects the reshape pattern of PrimFuncs.\r\n2. The dataflow reshape rewrite pass itself.\r\n3. The implementation of `relax.vm.builtin.reshape` as a PackedFunc.\r\n\r\nThis PR contains unit tests for each part.",
    "author": "MasterJH5574",
    "date": "2023-02-02T18:06:48Z",
    "jobs": []
  },
  {
    "sha": "35d7382508a34704d8f574d551ede43e28b68f83",
    "headline": "Allow keeping bound constants in OperatorFusor (#397)",
    "body": "",
    "author": "masahi",
    "date": "2023-02-02T07:09:26Z",
    "jobs": []
  },
  {
    "sha": "4fd316e4d575911c00ea0ab9cd8b37b9815ee365",
    "headline": "[Debugging] Support PrimValue, StringImm, and DataTypeImm in the AST \u2026",
    "body": "\u2026printer (#396)",
    "author": "slyubomirsky",
    "date": "2023-02-01T06:10:26Z",
    "jobs": []
  },
  {
    "sha": "faa0ee60319e5e42f3ff52a2e744042dc43840d5",
    "headline": "[Fix] Type comparison in auto arg converter (#394)",
    "body": "Previously when running all relax unit tests on my machine using\r\n`pytest test_*`, one auto argument converter tests always fail.\r\n(And when I only run that single test, it passes very well.)\r\n\r\nAfter inspection, I noted that in the failed test, though `anno`\r\nis printed as `typing.Optional[tvm.ir.expr.RelayExpr]`, the comparison\r\nbelow `anno is Optional[Expr]` still results false.\r\nhttps://github.com/tlc-pack/relax/blob/2e5e47962238be7385486241203d1a8146f38a0e/python/tvm/relax/utils.py#L252-L253\r\n\r\nI tweaked the comparison to `in` and all tests seem to pass very\r\nsuccessfully. I guess the issue might relate to some address issue (?)\r\nbut I\u2019m not 100% sure about this.",
    "author": "MasterJH5574",
    "date": "2023-02-01T04:11:21Z",
    "jobs": []
  },
  {
    "sha": "791e1422ac319a774303b9a0965264ebeedbc834",
    "headline": "[Fix] Printer support for PrimValue, StringImm, DataTypeImm (#395)",
    "body": "This PR supports printing out PrimValue, StringImm, DataTypeImm\r\nusing PrettyPrint, which will be used on Python side printing\r\nand sometimes C++ side printing.",
    "author": "MasterJH5574",
    "date": "2023-01-31T23:51:00Z",
    "jobs": []
  },
  {
    "sha": "a35ecb982debc9bec9484a900372b43eb3b87c14",
    "headline": "[BYOC] Refactor and bugfix on `run_codegen` (#382)",
    "body": "* Simplify the codegen behavior. For simplicity, run_codegen pass will now target any function with codegen annotation.\r\n* Update test script to match with the latest TVMScript.\r\n* Minor bug fix for test failure",
    "author": "sunggg",
    "date": "2023-01-31T13:39:17Z",
    "jobs": []
  },
  {
    "sha": "70b9540c88bff37eec108bf880a0340843f32967",
    "headline": "[REFACTOR] Simplify Builtin Ops with PrimValue. (#392)",
    "body": "This PR simplifies CallBuiltin by using PrimValue/StringImm/DataTypeImm\r\nto directly represent the positional argument instead of using customized\r\ntranslation of Attrs.\r\n\r\n- Remove BuiltinFuncAttrs\r\n- Use directly call_packed instead for most cases.\r\n- Introduce call_builtin_with_ctx to cover the remaining usecase of call_builtin\r\n  that requires ctx.\r\n- Update the testcases accordingly.\r\n\r\nThis PR also serves as an example on how can we further simplify other\r\nspecial lowering logics through PrimValue, which can be done in future PRs.",
    "author": "tqchen",
    "date": "2023-01-31T01:26:17Z",
    "jobs": []
  },
  {
    "sha": "a287a962712360d36ba44d51b480ab0a033a77a7",
    "headline": "[FIX][Utils] Add CopyWithNewParams and Check repeated parameters (#389)",
    "body": "This PR adds:\r\n1. A check for any variable used as parameters in different functions of the same IRModule\r\n2. A util to copy function while copying parameters in the new function, so the new function satisfies 1.",
    "author": "Ubospica",
    "date": "2023-01-29T21:53:15Z",
    "jobs": []
  },
  {
    "sha": "29acdf0c10a2adcac184a4b988d91bce858cf32f",
    "headline": "[Op] Completing the unary operators and refactor test (#391)",
    "body": "This PR includes:\r\n- Registering most of the unary operators in [DataAPI](https://data-apis.org/array-api/draft/API_specification/elementwise_functions.html)\r\n- Split unary arith oprators and check operators (e.g. `isnan`)\r\n- Refactor `test_tvmscript_parser`, `test_op_unary` and `test_op_binary` using `tvm.testing.parameters()`.",
    "author": "SiriusNEO",
    "date": "2023-01-29T18:47:25Z",
    "jobs": []
  },
  {
    "sha": "c64cae3cb6695330408dfb8fd99c67521d8426c0",
    "headline": "[ARCH] NestedMsg util functions update (#390)",
    "body": "Added two util functions in `nested_msg.h`:\r\n- `MapToNestedMsgBySInfo`: map Expr to NestedMsg according to StructInfo. If the Expr is not a TupleNode but its StructInfo is TupleStructInfo (for example, Expr is a Var assigned to by a Tuple), it will add TupleGetItem nodes\r\n- `NestedMsgToExpr`: map NestedMsg back to Expr. Tuple nodes will be created.",
    "author": "Ubospica",
    "date": "2023-01-29T16:52:53Z",
    "jobs": []
  },
  {
    "sha": "eb0b0efdf44315bf656f7702901e7b2785de42a0",
    "headline": "[Refactor][AST] `sinfo_args` A3: Well-formed check (#388)",
    "body": "This PR is the last part of the `sinfo_args` switch tracked by #377,\r\nwhich adds the StructInfo check in well-formed check, to ensure that\r\nthe StructInfo in `sinfo_args` does not refer to any undefined\r\nsymbolic variables.",
    "author": "MasterJH5574",
    "date": "2023-01-28T16:01:58Z",
    "jobs": []
  },
  {
    "sha": "7228f487580e24411631dfe9fd8f8244319cea66",
    "headline": "[Refactor][AST] `sinfo_args` A1: Update API of call_tir, call_packed,\u2026",
    "body": "\u2026 etc. (#386)\n\n* [Refactor][AST] `sinfo_args` A1: Update API of call_tir, call_packed, etc\r\n\r\nFollowing #377 and #379, this PR followups to update the API of `call_tir`,\r\n`call_packed`, `call_builtin` and `invoke_closure`.\r\n\r\n* The API of `call_tir` is changed to\r\n  ```python\r\n  def call_tir(\r\n      func: Union[str, Expr],\r\n      args: Expr,\r\n      out_sinfo: Union[TensorStructInfo, TupleStructInfo],\r\n      tir_vars: Optional[Union[ShapeExpr, Tuple[PrimExpr], List[PrimExpr]]] = None,\r\n  ) -> Call:\r\n      ...\r\n  ```\r\n  where we combine the `shape` and `dtype` parameters into `out_sinfo`. In\r\n  the concrete CallNode of `call_tir`, the output shape is no longer passed\r\n  as an CallNode argument and passed in the `sinfo_args` instead.\r\n\r\n* For `call_packed`, `call_builtin` and `invoke_closure`, we change the\r\n  `type_args` parameter to `sinfo_args`. For example, the API of `call_packed`\r\n  is updated to\r\n  ```python\r\n  def call_packed(\r\n      func: str,\r\n      *args: Expr,\r\n      sinfo_args: Union[StructInfo, List[StructInfo]],\r\n      **kwargs: Any,\r\n  ) -> Call:\r\n      ...\r\n  ```\r\n\r\n---\r\n\r\nOne thing specific to note is about our existing dataflow pattern language.\r\nPreviously we have a sugar function for `call_tir`:\r\n```python\r\ndef is_call_tir(\r\n    func_name: str,\r\n    args: Union[List, Tuple, TuplePattern] = None,\r\n    shape: Union[Tuple, List[tvm.ir.PrimExpr], DFPattern] = None,\r\n) -> CallPattern:\r\n    ...\r\n```\r\nSince we changed the API of `call_tir` - the CallNode does not contain the\r\nshape as one argument, - together with the fact that the dataflow pattern\r\nlanguage does not yet support matching StructInfo, we have no approach to\r\nmatch the shape anymore. Therefore, the `shape` parameter is removed from\r\n`is_call_tir`. I left some Todo items there for future `sinfo_args` matching\r\nsupport.\r\n\r\n* Update call_tir API and address comments\r\n\r\nNow the expected type of `out_sinfo` is:\r\n```python\r\nout_sinfo: Union[TensorStructInfo, List[TensorStructInfo]]\r\n```",
    "author": "MasterJH5574",
    "date": "2023-01-28T09:39:33Z",
    "jobs": []
  },
  {
    "sha": "68314b9e3ca194042c5a21eb70691ada5fcc309a",
    "headline": "[Refactor][AST] `sinfo_args` A2: Remove VisitType (#387)",
    "body": "This PR is part of the `sinfo_args` switch, as tracked by #377.\r\n\r\nThis PR removes VisitType from ExprFunctor in Relax, as Type is no\r\nlonger a standalone construct in any Relax AST, with the switch of\r\n`sinfo_args` introduced by #379.",
    "author": "MasterJH5574",
    "date": "2023-01-28T03:51:14Z",
    "jobs": []
  },
  {
    "sha": "942cf28010837d2bcd17ef1b654a44fad73b2499",
    "headline": "[Utils] Introduce Auto Arg Converter for Relax Ops and Functions (#381)",
    "body": "This PR introduce a new decorator to automatically convert the arguments\r\nto the expr according to the Relax Expr, including:\r\n\r\n1. convert `PrimExpr` to `relax.PrimValue`;\r\n2. convert `tvm.String` or `str` to `relax.StringImm`;\r\n3. convert tuple/list of `PrimExpr` to `relax.ShapeExpr`;\r\n4. convert tuple/list of `Expr` to `relax.Tuple`.",
    "author": "Hzfengsy",
    "date": "2023-01-27T17:30:34Z",
    "jobs": []
  },
  {
    "sha": "fc2aa92342eba9262cf5caa15937ab61e79a3761",
    "headline": "[Refacror][AST] `sinfo_args` A0: Introduce `sinfo_args` (#379)",
    "body": "This PR is the kickoff action of our switch towards `sinfo_args` in\r\nCallNode, as discussed in #356 and tracked by #377.\r\n\r\n* CallNode field `type_args` is changed to `sinfo_args`, with type\r\n`Array<StructInfo>`.\r\n\r\n* For intrinsic ops like `call_tir`/`call_packed`, this PR keeps the\r\n`sinfo_args` value as **the plain StructInfo generated from the static\r\ntype**, even if those op calls were provided with richer StructInfo at\r\nthe time of creation. The API changes, creations and structure info\r\ndeductions of these intrinsic ops will be left to the next PR, as the\r\ntracking issue #377. Since that PR, our APIs and structure info\r\ndeductions of these ops will no longer rely on types.",
    "author": "MasterJH5574",
    "date": "2023-01-27T02:24:57Z",
    "jobs": []
  },
  {
    "sha": "55461d1c56e37d593227963db6b86c7368c715b6",
    "headline": "[BYOC] Add DNNL backend (#376)",
    "body": "* Add DNNL backend\r\n\r\n* cpplint\r\n\r\n* skip dnnl test if not enabled\r\n\r\n* fix unused variable warning",
    "author": "masahi",
    "date": "2023-01-26T11:23:18Z",
    "jobs": []
  },
  {
    "sha": "4afff0c03cdf1e23fa0f9db42a5cd526680e4b70",
    "headline": "[TVMScript] Fix py_print direction in IR builder (#378)",
    "body": "Prior to this PR, in `ir.py` of IR builder, the `py_print` directs to the operator `print` instead of Python builtin print.\r\n\r\nThis PR fixes this issue, with a regression test in `tests/python/relax/test_tvmscript_ir_builder.py`.",
    "author": "MasterJH5574",
    "date": "2023-01-26T04:12:56Z",
    "jobs": []
  },
  {
    "sha": "290405fc7001dcfce3fa43c1d076aa662534ae8f",
    "headline": "[Analysis][Tweak] Simplify dataflow block tracking in inner functions\u2026",
    "body": "\u2026 for the well-formed analysis (#374)\n\nThis PR makes a small tweak on the changes in #370. #370 keeps an explicit stack to handle the case of a local function being defined inside a dataflow block. However, this is more complicated than it needs to be: it suffices to keep a single flag for whether the visitor is inside a dataflow block and to save the value of the flag before recursing into a local function definition, similarly to how it handles the var sets.",
    "author": "slyubomirsky",
    "date": "2023-01-26T02:04:58Z",
    "jobs": []
  },
  {
    "sha": "34ff4b06360ebd1574b4b4230ffeb6073792cac0",
    "headline": "[BYOC] Add pass to merge composite functions to offload large subgrap\u2026",
    "body": "\u2026hs (#372)\n\n* Add FuseCompositeFunctions pass\r\n\r\n* clean up and add doc / comments\r\n\r\n* cpplint\r\n\r\n* fix trt build\r\n\r\n* FuseCompositeFunctions -> MergeCompositeFunctions\r\n\r\n* rename\r\n\r\n* add algo explanation\r\n\r\n* Drop requirement on group being always a root in OperatorFusor",
    "author": "masahi",
    "date": "2023-01-25T22:01:31Z",
    "jobs": []
  },
  {
    "sha": "29331a96d5bbc62bdb4deb3db04863dcd1f87fae",
    "headline": "[TVMScript] Fix Return Type for Functions w/o Annotation (#375)",
    "body": "This PR fixes the incorrect function return struct info during declaration info when it's not be annotated.",
    "author": "Hzfengsy",
    "date": "2023-01-25T16:12:31Z",
    "jobs": []
  },
  {
    "sha": "33152b39df21f6c6f00d9e99650a8bc7059efc2d",
    "headline": "[Analysis][Bugfix] Correctly handle dataflow blocks in local function\u2026",
    "body": "\u2026s defined inside a dataflow block (#370)\n\n* Correctly track dataflow block status for nested funcs\r\n\r\n* Similarly update the dataflow var set\r\n\r\n* Use dataflow vars in test case",
    "author": "slyubomirsky",
    "date": "2023-01-23T23:20:17Z",
    "jobs": []
  },
  {
    "sha": "5e4163c2bc6e3090b9d7e82e0d33dd968f793006",
    "headline": "[IR] Initial PrimValue Support (#368)",
    "body": "This PR introduces PrimValue, StringImm and DataTypeImm.\r\n\r\nThese constructs are only used in low-level builtin functions for now.\r\nThey will enable us to effectively represent POD, string and dtype\r\narguments to builtin functions.\r\n\r\nFollowup PRs can be introduced to move some of the BuiltinAttrs\r\nto directly using these values. We can also simplify the handling\r\nof unique and print.\r\n\r\nCo-authored-by: Siyuan Feng <Hzfengsy@sjtu.edu.cn>",
    "author": "tqchen",
    "date": "2023-01-21T23:46:27Z",
    "jobs": []
  },
  {
    "sha": "47f338b0a36bf9f4c2d98aaea2c94cbe294d7c96",
    "headline": "Fix AnnotateTIROpPattern fail on cumsum (#369)",
    "body": "Fallback to kOpaque pattern in presence\r\nof multiple buffer stores in a block.",
    "author": "psrivas2",
    "date": "2023-01-21T13:36:30Z",
    "jobs": []
  },
  {
    "sha": "935cf150fe40a0a71a2be7a847150b1c0e1575e4",
    "headline": "[VM][TVMScript] Shorten VM op names and add TVMScript support (#367)",
    "body": "",
    "author": "Hzfengsy",
    "date": "2023-01-21T13:25:38Z",
    "jobs": []
  },
  {
    "sha": "0073ab7774a219c6f5238f5c0b41bf89ca26fe9e",
    "headline": "[BYOC] Refactor and update `RunCodegen` API (#365)",
    "body": "* Update RunCodegen pass\r\n\r\n* update TensorRT codegen for the new interface\r\n\r\n* typo fix\r\n\r\n* fix unused var warning\r\n\r\n* leave todo comment on dep on RemoveUnusedfunctions\r\n\r\n* introduce src/tranform/utils.h\r\n\r\n* also move GetExtSymbol to transform/utils.h\r\n\r\n* build fix\r\n\r\n* add missing file",
    "author": "masahi",
    "date": "2023-01-21T07:24:21Z",
    "jobs": []
  },
  {
    "sha": "09bba11f258b4819bcceb27de3602d0e1f994e45",
    "headline": "[BYOC] Add pattern-based partitioning pass (#366)",
    "body": "* Add pattern-based partitioning pass\r\n\r\n* add doc\r\n\r\n* add comment\r\n\r\n* changed Python API slightly\r\n\r\n* add more tests\r\n\r\n* remove unused var\r\n\r\n* remove unused import\r\n\r\n* make_conv_pattern -> make_fused_bias_activation_pattern\r\n\r\n* wrap composite_name in Group with std::optional, add doc\r\n\r\n* add optional header\r\n\r\n* Correctly handle tuple output\r\n\r\n* clean test\r\n\r\n* add comment\r\n\r\n* remove unused variable\r\n\r\n* review comments addressed\r\n\r\n* detect cyclic dep\r\n\r\n* clean up test\r\n\r\n* relax.op.nn -> R.nn",
    "author": "masahi",
    "date": "2023-01-21T00:13:13Z",
    "jobs": []
  },
  {
    "sha": "8f4a5a2d427b18f09121316751d1fd7f2e637d81",
    "headline": "[OP] Unary tensor operator `R.exp` (#363)",
    "body": "This PR adds `R.exp`. Besides, it also brings a more comprehensive test for `test_tvmscript_parser_op_arith_cmp`.",
    "author": "SiriusNEO",
    "date": "2023-01-18T13:50:48Z",
    "jobs": []
  },
  {
    "sha": "005cd1e6e5a7f58f60d64ca509dfa64b0f187613",
    "headline": "[Fix][TVMScript] Parse and print `tir_vars` of `call_tir` properly (#\u2026",
    "body": "\u2026361)",
    "author": "MasterJH5574",
    "date": "2023-01-18T00:32:57Z",
    "jobs": []
  },
  {
    "sha": "2d0b90ed98133f8179a9fbdf5a8f0374acf40f13",
    "headline": "[FIX] fix warning for the latest clang (#362)",
    "body": "This PR fixes compilation warnings from the latest clang compiler.",
    "author": "Hzfengsy",
    "date": "2023-01-17T19:09:04Z",
    "jobs": []
  },
  {
    "sha": "ec38fe1c29e875e5720d8ccb8dc2cb0e30a6fc73",
    "headline": "[Op] Change shape-related op attributes to arguments (#360)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-15T21:13:44Z",
    "jobs": []
  },
  {
    "sha": "fa5476f8ebb35120f1fd5e77dbb02406bdd83c7e",
    "headline": "[Op] Use int64 IntImms as static shape-related attributes (#359)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-14T23:34:01Z",
    "jobs": []
  },
  {
    "sha": "67d2d08198063050ad4902a3308e96127e746d74",
    "headline": "fix after rebase",
    "body": "",
    "author": "YuchenJin",
    "date": "2023-01-13T21:59:14Z",
    "jobs": []
  },
  {
    "sha": "1f9f9beaf40031f359d33ae19839fdc6a2ee8721",
    "headline": "[Op] Group for conv2d, ceil mode for max_pool2d (#358)",
    "body": "This PR adds the parameter group for conv2d, as well as the option ceil_mode for max_pool2d. They were omitted in the previous round of PR mainly for simplicity, and are introduced now due to their uses in ML frameworks.",
    "author": "MasterJH5574",
    "date": "2023-01-14T00:35:03Z",
    "jobs": []
  },
  {
    "sha": "2b4bf5a36f4e88082a169b414e4cfaa2001eaecb",
    "headline": "[FIX] Fix ShapeExpr/Tuple getitem (#357)",
    "body": "Currently ShapeExpr checks index should be non-negative in `__getitem__`, which is unnecessary and effects the lowering process of several Ops that receives negative index. This PR removes this check.",
    "author": "Ubospica",
    "date": "2023-01-13T18:08:44Z",
    "jobs": []
  },
  {
    "sha": "bf872b9b57c7ed6edec97b53a057f8d47f609f66",
    "headline": "[BlockBuilder] CallTE with PrimExpr support (#353)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-12T00:30:21Z",
    "jobs": []
  },
  {
    "sha": "4259ad48cbe909109bd40c7ed862368b407d37f0",
    "headline": "[Fix][Op] Fix CallTIR about wrapping args with Tuple (#354)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-11T21:45:58Z",
    "jobs": []
  },
  {
    "sha": "af50490b5261622bca09b274db1a7c536692c362",
    "headline": "[BlockBuilder] Fix argument conversion for Shape in CallTE (#352)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-11T21:44:13Z",
    "jobs": []
  },
  {
    "sha": "b1e44dad3119951000d6d6a928502390bb41fbdb",
    "headline": "[Fix][Printer] Fix PrintFinal dispatch for Relax dedicated Expr (#351)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-11T02:13:39Z",
    "jobs": []
  },
  {
    "sha": "f5da2a687d02d1ef891b9cd97aeb2d5bd495996b",
    "headline": "[UX][TVMScript] Enable relax arithmetic operators (#350)",
    "body": "",
    "author": "Hzfengsy",
    "date": "2023-01-11T01:01:30Z",
    "jobs": []
  },
  {
    "sha": "89706adfc2d7edc54e3ee95acbd23acb6a1b99ee",
    "headline": "[TVMScript][Bugfix] Minor fix for `type_args` and constant printing (\u2026",
    "body": "\u2026#349)\n\n* [TVMScript][Bugfix] Minor fix for `type_args` and constant printing",
    "author": "Hzfengsy",
    "date": "2023-01-10T16:27:13Z",
    "jobs": []
  },
  {
    "sha": "1f3f288dbda27819993ecce4cfe47278f9a02b6a",
    "headline": "[ARCH] NestedMsg util functions (#347)",
    "body": "Add two utility functions of NestedMsg for robust and easy tuple handling.",
    "author": "spectrometerHBH",
    "date": "2023-01-10T15:17:16Z",
    "jobs": []
  },
  {
    "sha": "fcd7e25906ef8d27821de2b7db8cfa15e563a38b",
    "headline": "[Fix] Concurrent modification in RemoveUnusedVars (#348)",
    "body": "\r\nWhen running RemoveUnusedVars (i.e. remove_all_unused), in some cases the map users will raise Concurrent modification error. This commit fixed it by changing the logic to \"iterate the map first and update it later\".\r\n\r\n\r\nCo-authored-by: Chaosfan <siriusneo@sjtu.edu.cn>",
    "author": "MasterJH5574",
    "date": "2023-01-10T03:22:39Z",
    "jobs": []
  },
  {
    "sha": "0effdbd108f3c8799dbb8891b24fce710f2cf6cb",
    "headline": "[Op][O2e] Indexing and datatype operators (#338)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-09T22:20:05Z",
    "jobs": []
  },
  {
    "sha": "0b1b11d4eeacbc20ac08ff16192db2f9febecb35",
    "headline": "[VM] Supporting \"compiled\" exec mode. (#331)",
    "body": "* [VM] Supporting \"compiled\" exec mode.\r\n\r\nThis PR adds support of \"compiled\" mode to the VM.\r\nThe compiled mode translate the relax function into TIR function\r\nand drive it through the TIR function.\r\n\r\nIt is different from the micro AOT codegen, which generate TIR code\r\nthat targets the micro C runtime environment and useful for resource\r\nlimited settings with smaller set of features. Both leverages the\r\nlow-level TIR build that is also shared with TensorIR.\r\n\r\nThe current implementation targets full TVM (VM) runtime, that\r\ncomes with PackedFunc, object, tuple, closure and all kinds of rich structure\r\nsupport. This also mean that we can leverage the full runtime support\r\nto handle things like allocation, dynamic shape, easy plugins and python\r\ninteraction, which are not available in more limited runtime.\r\n\r\nThe user directly use the same API to load the generated code regardless\r\nof compiled mode or bytecode. And just need to change one line\r\n\r\n```python\r\nex = relax.vm.build(mod, target, exec_mode=\"compiled\")\r\n```\r\n\r\nMost of the codegen features are lifted before the codegen phase,\r\nso the overall implementation would be around 500 loc for each exec mode\r\nand can be further cut down with future introduction of PrimValue.\r\n\r\nThe simplicity is thanks to the TVM runtime archiecture that allows us\r\nto compose things together in objects. The only difference is how\r\nthe PackedFunc of high-level driving is being provided.\r\nIn the case of bytecode it is normal interpretation and in the\r\ncase of compiled mode it is TIR.\r\n\r\nIt is a complete implementation Unit-testcases are added. All codegen\r\nbuild tests are updated to include two exec_modes and have passed locally.\r\nThe only exception that we skipped some special packedfunc handling(printing)\r\nbecause can be further simplified after we introduce PrimValue.\r\n\r\nCo-authored-by: Junru Shao <junrushao1994@gmail.com>\r\n\r\n* Address review comments\r\n\r\nCo-authored-by: Junru Shao <junrushao1994@gmail.com>",
    "author": "tqchen",
    "date": "2023-01-09T19:59:26Z",
    "jobs": []
  },
  {
    "sha": "882cfa8c9189fa377b932a1b966378a2f21a2a55",
    "headline": "[Op][O2d] Manipulation operators (#337)",
    "body": "As tracked by #332, this PR is the O2d milestone of the high-level operator introduction plan.\r\n\r\nThis PR introduces a few manipulation operators:\r\n* broadcast_to\r\n* concat\r\n* expand_dims\r\n* flatten\r\n* permute_dims\r\n* reshape\r\n* split\r\n* squeeze\r\nThese operators are all well-tested.",
    "author": "MasterJH5574",
    "date": "2023-01-09T18:45:14Z",
    "jobs": []
  },
  {
    "sha": "3dcdd9768cdead72f25ac00acceee5a39deaaf69",
    "headline": "[O2h] Neural network and linear algebra operators (#343)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-09T15:57:19Z",
    "jobs": []
  },
  {
    "sha": "38778ca6d43edbf218e7cd7148fa4d1e58fe48ac",
    "headline": "[O2g] Convolution, pooling and image operators (#341)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-09T01:21:50Z",
    "jobs": []
  },
  {
    "sha": "779bfd274df6e65648838482cfbde8c23712568f",
    "headline": "[Op][O2f] Set and searching operators (#339)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-08T21:53:10Z",
    "jobs": []
  },
  {
    "sha": "c7b29363a9a95c8e6f1b67c56b1c9d10fb6f7cf1",
    "headline": "simple fix jupyter error reporting (#345)",
    "body": "",
    "author": "Hzfengsy",
    "date": "2023-01-08T19:38:20Z",
    "jobs": []
  },
  {
    "sha": "b7c7b46497e46796e6c6f1da71409c40e9035a95",
    "headline": "[TVMScript] Symbolic shape computing (#342)",
    "body": "",
    "author": "Hzfengsy",
    "date": "2023-01-08T15:09:22Z",
    "jobs": []
  },
  {
    "sha": "176d374e952eb977596d6a05534ad06f3ee7eb73",
    "headline": "[Op][O2c] Creation operators (#336)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-07T23:31:00Z",
    "jobs": []
  },
  {
    "sha": "89aadb718aafc2a0775b63d1afaf3dd2e92456b7",
    "headline": "[Op][O2b] Statistical operators (#334)",
    "body": "",
    "author": "MasterJH5574",
    "date": "2023-01-06T21:41:18Z",
    "jobs": []
  },
  {
    "sha": "9ae00865d9d077e666784925d7de25c21ceacaed",
    "headline": "[Op][O1][O2a] Utility, arithmetic and comparison operators (#333)",
    "body": "As tracked by #332, this PR is the kickoff part of high-level operator introduction in Relax.\r\n\r\nThis PR is about the milestone O1 and O2a. Specifically, this PR\r\n* introduces some of common utility functions that the registration and StructInfo inference of each operator will often use.\r\n* introduces unary arithmetic operators: cos, log, negative, sigmoid, sin, sqrt, tanh.\r\n* refactors and introduces binary arithmetic operators: add, divide, floor_divide, multiply, subtract.\r\n* introduces binary comparative operators: equal, greater, greater_equal, less, less_equal, not_equal.\r\n\r\nThese operators are well tested from three perspective:\r\nP1. the op getter can get correct op by name\r\nP2. their StructInfo inference result are as expected under all kinds of cases\r\nP3. Relax TVMScript parser can parse the scripts with the op inside\r\n\r\nFor operators in O2a, most operators share almost the same StructInfo inference logic. Therefore, for tests in P2, in each category, not every op is tested in every case. For each case, it is good to have only part of op in this category tested. This is intended not to make overlarge testing file.",
    "author": "MasterJH5574",
    "date": "2023-01-05T23:31:48Z",
    "jobs": []
  },
  {
    "sha": "957bfaec35254088a261834c4f649e4abc98ab39",
    "headline": "[TVMScript] Ensure consistent struct info between assign lhs and rhs \u2026",
    "body": "\u2026with sinfo annotation (#328)\n\n* [TVMScript] Ensure consistent struct info between assign lhs and rhs with sinfo annotation\n\n* fix\n\n* fix",
    "author": "Hzfengsy",
    "date": "2023-01-05T12:43:28Z",
    "jobs": []
  },
  {
    "sha": "c09046b8aa2315de11364a09879f15e49fbbc4ce",
    "headline": "[REFACTOR] Hide VM Impl, Improve execution logic. (#326)",
    "body": "* [REFACTOR] Hide VM Impl, Improve execution logic.\r\n\r\nThis PR refactors VM by hiding most of the VM implementations\r\nand improve the overall execution logic.\r\n\r\n- Unifies PackedFunc and Closure Table.\r\n- Update Closure mechanism to no longer depend on string.\r\n- Update VMMemoryLower to VMBuiltinLower to incorporate more VM intrinsic lowering,\r\n  move some of the codegen intrinsic to this phase.\r\n- Allow directly pass in function index as VM instruction.\r\n\r\n* Address comment",
    "author": "tqchen",
    "date": "2023-01-04T15:13:08Z",
    "jobs": []
  }
]